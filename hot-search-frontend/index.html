<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÁÉ≠ÁÇπÂØºËà™</title>
    <link rel="icon" href="./icon/favicon.png">
    <link rel="stylesheet" href="index.css">

        <!-- ÂºïÂÖ•element-uiÊ†∑Âºè -->
        <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
        <!-- ÂºïÂÖ•element-uiÁªÑ‰ª∂Â∫ì -->
        <script src="https://unpkg.com/element-ui/lib/index.js"></script>
        <!-- ÂºïÂÖ•axios -->
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <!-- ÂºïÂÖ• Vue -->
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>

</head>

<body>
    <!-- ÂàõÂª∫‰∏Ä‰∏™Ê†πÂÖÉÁ¥† -->
    <div class="home" id="home">
        <header>
            <div class="search-box">
                <input type="text" placeholder="ÊêúÁ¥¢">
                <span class="search-icon">üîç</span>
            </div>
        </header>

        <div class="container">
            <div class="list-wrapper">
                <div class="hot-list-card" v-for="(platform, index) in platforms" :key="index">
                    <div class="list-header">
                        <div class="logo" :class="platform.logoClass"></div>
                        <span class="list-title">{{ platform.name }}</span>
                    </div>
                    <div class="list-content">
                        <div class="list-item" v-for="(item, itemIndex) in platform.hotList" :key="itemIndex">
                            <span class="rank">{{ item.hotRank }}</span>
                            <a :href="item.hotUrl" target="_blank" class="item-title" :title="item.hotTitle">
                                {{ item.hotTitle.length > 30 ? item.hotTitle.substring(0, 30) + '...' : item.hotTitle }}
                            </a>
                            <span class="score">{{ item.hotValue }}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        window.onload = function () {
            vm.init();
        }

        // Â∞ÜvueÊåÇËΩΩÂà∞id‰∏∫homeÁöÑÊ†πÂÖÉÁ¥†‰∏ä
        const vm = new Vue({
            el: '#home',
            data: {
                platforms: [
                    { name: 'ÁôæÂ∫¶ÁÉ≠Ê¶ú', logoClass: 'baidu-logo', hotList: [], type: 'baidu' },
                    { name: 'ÊäñÈü≥ÁÉ≠Ê¶ú', logoClass: 'douyin-logo', hotList: [], type: 'douyin' },
                    { name: 'Áü•‰πéÁÉ≠Ê¶ú', logoClass: 'zhihu-logo', hotList: [], type: 'zhihu' },
                    { name: 'BÁ´ôÁÉ≠Ê¶ú', logoClass: 'bilibili-logo', hotList: [], type: 'bilibili' },
                    { name: 'ÊéòÈáëÁÉ≠Ê¶ú', logoClass: 'juejin-logo', hotList: [], type: 'juejin' },
                    { name: 'ËÖæËÆØÁΩëÁÉ≠Ê¶ú', logoClass: 'tengxunwang-logo', hotList: [], type: 'tengxunwang' },
                    { name: 'Ë¥¥ÂêßÁÉ≠Ê¶ú', logoClass: 'tieba-logo', hotList: [], type: 'tieba' },
                    { name: 'Â§¥Êù°ÁÉ≠Ê¶ú', logoClass: 'toutiao-logo', hotList: [], type: 'toutiao' }
                ]
            },
            methods: {
                init() {
                    this.platforms.forEach(platform => {
                        this.loadPlatformData(platform);
                    });
                },
                loadPlatformData(platform) {
                    axios.get(`http://localhost:8089/hotSearch/queryByType/${platform.type}`)
                        .then(response => {
                            platform.hotList = response.data.data;
                            console.log(`${platform.name} Êï∞ÊçÆ:`, response.data.data);
                        })
                        .catch(error => {
                            console.error(`Ëé∑Âèñ${platform.name}Êï∞ÊçÆÂ§±Ë¥•`, error);
                        });
                }
            }
        });
    </script>
</body>
</html>